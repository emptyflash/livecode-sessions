uniform u_resolution : Vec2
uniform u_time : Float
uniform u_tex0 : Sampler2D


main coords = let
    st0 = coords / u_resolution
    c0 = shape st0 (4.0 + u_time * 0.0) 0.0001 0.0
    st3 = kaleid st0 10.0
    c4 = osc st3 u_time 10.0 0.2 126.0
    c5 = diff c0 c4
    st1 = rotate st0 1.0 (select (vec4 1.0 2.0 0.0 1.8) (u_time * 1.01)) 0.01 
    st2 = scale_coords st1 (select (vec4 0.3 0.7 0.5 0.8) u_time) 1.0 1.0 
    c1 = src st2 u_tex0
    c2 = blend c0 (diff c5 c1) (1.0)
    in c2
